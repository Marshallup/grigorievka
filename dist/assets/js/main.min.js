"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$(document).ready((function(){$(".slider").slick({dots:!0,slidesToShow:3,responsive:[{breakpoint:1199,settings:{slidesToShow:2}},{breakpoint:767,settings:{slidesToShow:1}},{breakpoint:465,settings:"unslick"}]})}));var burger=document.getElementsByClassName("burger")[0],menu=document.getElementsByClassName("main__menu")[0];burger.onclick=function(){this.classList.toggle("burger-active"),menu.classList.toggle("main__menu-active"),document.body.classList.toggle("no-scroll")},menu.onclick=function(){burger.classList.contains("burger-active")&&(this.classList.toggle("main__menu-active"),burger.classList.toggle("burger-active"),document.body.classList.toggle("no-scroll"))},$("body").on("click",'[href*="#"]',(function(e){$("html,body").stop().animate({scrollTop:$(this.hash).offset().top-0},1e3),e.preventDefault()})),$(".gr__button_main").on("click",(function(e){$("html,body").stop().animate({scrollTop:$("#about").offset().top},1e3)}));for(var seconds=0,timer=setInterval((function(){seconds++}),10),img=document.querySelector(".preloader__wrap").querySelectorAll("img"),_loop=function(e){var t=new Image;t.src=img[e].src,t.onload=function(){img[e].classList.add("preloader__img_show")}},i=0;i<img.length;i++)_loop(i);function animPreloader(){clearInterval(timer),document.querySelector(".preloader__wrap").classList.add("preloader__hide"),document.body.classList.remove("no-scroll"),setTimeout((function(){"Edge"==browser||"Internet Explorer"==browser?document.body.removeChild(document.querySelector(".preloader__wrap")):document.querySelector(".preloader__wrap").remove();var e=document.querySelectorAll(".anim-items");if(e.length>0){var t=function(){for(var t=0;t<e.length;t++){var n=e[t],o=n.offsetHeight,a=offset(n).top,r=window.innerHeight-o/4;o>window.innerHeight&&(r=window.innerHeight-window.innerHeight/4),pageYOffset>a-r&&pageYOffset<a+o?n.classList.add("anim-active"):n.classList.remove("anim-active")}};window.addEventListener("scroll",t),t()}}),800)}function offset(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}function get_name_browser(){var e=navigator.userAgent;return e.search(/YaBrowser/)>0?"Яндекс Браузер":e.search(/rv:11.0/)>0||e.search(/MSIE/)>0?"Internet Explorer":e.search(/Edge/)>0?"Edge":e.search(/Chrome/)>0?"Google Chrome":e.search(/Firefox/)>0?"Firefox":e.search(/Opera/)>0?"Opera":e.search(/Safari/)>0?"Safari":"Не определен"}window.onload=function(){seconds<=500?setTimeout(animPreloader,3e3):animPreloader()},function(e){e.extend(e.easing,{spincrementEasing:function(e,t,n,o,a){return t===a?n+o:o*(1-Math.pow(2,-10*t/a))+n}}),e.fn.spincrement=function(t){function n(e,t){if(e=e.toFixed(t),t>0&&"."!==o.decimalPoint&&(e=e.replace(".",o.decimalPoint)),o.thousandSeparator)for(;a.test(e);)e=e.replace(a,"$1"+o.thousandSeparator+"$2");return e}var o=e.extend({from:0,to:null,decimalPlaces:null,decimalPoint:".",thousandSeparator:",",duration:1e3,leeway:50,easing:"spincrementEasing",fade:!0,complete:null},t),a=new RegExp(/^(-?[0-9]+)([0-9]{3})/);return this.each((function(){var t,a=e(this),r=o.from;if(a.attr("data-from")&&(r=parseFloat(a.attr("data-from"))),a.attr("data-to"))t=parseFloat(a.attr("data-to"));else if(null!==o.to)t=o.to;else{var i=e.inArray(o.thousandSeparator,["\\","^","$","*","+","?","."])>-1?"\\"+o.thousandSeparator:o.thousandSeparator,s=new RegExp(i,"g");t=parseFloat(a.text().replace(s,""))}var l,c=o.duration;if(o.leeway&&(c+=Math.round(o.duration*(2*Math.random()-1)*o.leeway/100)),a.attr("data-dp"))l=parseInt(a.attr("data-dp"),10);else if(null!==o.decimalPlaces)l=o.decimalPlaces;else{var u=a.text().indexOf(o.decimalPoint);l=u>-1?a.text().length-(u+1):0}a.css("counter",r),o.fade&&a.css("opacity",0),a.animate({counter:t,opacity:1},{easing:o.easing,duration:c,step:function(e){a.html(n(e*t,l))},complete:function(){a.css("counter",null),a.html(n(t,l)),o.complete&&o.complete(a)}})}))}}(jQuery),$(document).ready((function(){$(window).on("scroll load resize",(function(){!function(t,n,o,a){var r=o,i=t,s=n,l=a||function(){},c=$(window).scrollTop(),u=$(window).height(),d=$(i).offset().top,f=$(i).outerHeight();r&&(c+u<d&&0==e||c>d+f&&0==e)&&(e=!0);if(!e)return!1;c+u-s>=d&&c+s<d+f&&(l(),e=!1)}(".numbers__wrap_block",100,!0,(function(){$(".numbers__wrap_numeric").spincrement({from:0,to:null,thousandSeparator:" ",duration:900,fade:!0})}))}));var e=!0}));var browser=get_name_browser();!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}((function(e){var t,n=navigator.userAgent,o=/iphone/i.test(n),a=/chrome/i.test(n),r=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,i){var s,l,c,u,d,f,m;if(!n&&this.length>0){var g=e(this[0]).data(e.mask.dataName);return g?g():void 0}return i=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},i),s=e.mask.definitions,l=[],c=f=n.length,u=null,e.each(n.split(""),(function(e,t){"?"==t?(f--,c=e):s[t]?(l.push(new RegExp(s[t])),null===u&&(u=l.length-1),c>e&&(d=l.length-1)):l.push(null)})),this.trigger("unmask").each((function(){function g(){if(i.completed){for(var e=u;d>=e;e++)if(l[e]&&S[e]===p(e))return;i.completed.call(_)}}function p(e){return i.placeholder.charAt(e<i.placeholder.length?e:0)}function h(e){for(;++e<f&&!l[e];);return e}function v(e,t){var n,o;if(!(0>e)){for(n=e,o=h(t);f>n;n++)if(l[n]){if(!(f>o&&l[n].test(S[o])))break;S[n]=S[o],S[o]=p(o),o=h(o)}w(),_.caret(Math.max(u,e))}}function b(){k(),_.val()!=x&&_.change()}function y(e,t){var n;for(n=e;t>n&&f>n;n++)l[n]&&(S[n]=p(n))}function w(){_.val(S.join(""))}function k(e){var t,n,o,a=_.val(),r=-1;for(t=0,o=0;f>t;t++)if(l[t]){for(S[t]=p(t);o++<a.length;)if(n=a.charAt(o-1),l[t].test(n)){S[t]=n,r=t;break}if(o>a.length){y(t+1,f);break}}else S[t]===a.charAt(o)&&o++,c>t&&(r=t);return e?w():c>r+1?i.autoclear||S.join("")===$?(_.val()&&_.val(""),y(0,f)):w():(w(),_.val(_.val().substring(0,r+1))),c?t:u}var _=e(this),S=e.map(n.split(""),(function(e,t){return"?"!=e?s[e]?p(t):e:void 0})),$=S.join(""),x=_.val();_.data(e.mask.dataName,(function(){return e.map(S,(function(e,t){return l[t]&&e!=p(t)?e:null})).join("")})),_.one("unmask",(function(){_.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;_.prop("readonly")||(clearTimeout(t),x=_.val(),e=k(),t=setTimeout((function(){_.get(0)===document.activeElement&&(w(),e==n.replace("?","").length?_.caret(0,e):_.caret(e))}),10))})).on("blur.mask",b).on("keydown.mask",(function(e){if(!_.prop("readonly")){var t,n,a,r=e.which||e.keyCode;m=_.val(),8===r||46===r||o&&127===r?(n=(t=_.caret()).begin,(a=t.end)-n==0&&(n=46!==r?function(e){for(;--e>=0&&!l[e];);return e}(n):a=h(n-1),a=46===r?h(a):a),y(n,a),v(n,a-1),e.preventDefault()):13===r?b.call(this,e):27===r&&(_.val(x),_.caret(0,k()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!_.prop("readonly")){var n,o,a,i=t.which||t.keyCode,s=_.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>i)&&i&&13!==i){if(s.end-s.begin!=0&&(y(s.begin,s.end),v(s.begin,s.end-1)),n=h(s.begin-1),f>n&&(o=String.fromCharCode(i),l[n].test(o))){if(function(e){var t,n,o,a;for(t=e,n=p(e);f>t;t++)if(l[t]){if(o=h(t),a=S[t],S[t]=n,!(f>o&&l[o].test(a)))break;n=a}}(n),S[n]=o,w(),a=h(n),r){setTimeout((function(){e.proxy(e.fn.caret,_,a)()}),0)}else _.caret(a);s.begin<=d&&g()}t.preventDefault()}}})).on("input.mask paste.mask",(function(){_.prop("readonly")||setTimeout((function(){var e=k(!0);_.caret(e),g()}),0)})),a&&r&&_.off("input.mask").on("input.mask",(function(){var e=_.val(),t=_.caret();if(m&&m.length&&m.length>e.length){for(k(!0);t.begin>0&&!l[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<u&&!l[t.begin];)t.begin++;_.caret(t.begin,t.begin)}else{for(k(!0);t.begin<f&&!l[t.begin];)t.begin++;_.caret(t.begin,t.begin)}g()})),k()}))}})})),$(document).ready((function(){$("#gr-form").validate({submitHandler:function(e){$(".contacts__right_button").prop("disabled",!0),$(".modal").addClass("modal-flex"),setTimeout((function(){$(".modal").addClass("modal-visible")}),100);var t=$(e);return $.ajax({type:"POST",url:"mail.php",data:t.serialize()}).done((function(){setTimeout((function(){$(".modal").removeClass("modal-visible"),setTimeout((function(){$(".modal").removeClass("modal-flex")}),700),t.trigger("reset")}),2e3)})),!1},rules:{name:{required:!0,minlength:2},message:{required:!0,minlength:4}},messages:{name:{required:"Поле 'Имя' обязательно к заполнению",minlength:"Введите не менее 2-х символов в поле 'Имя'"},email:{required:"Поле 'Email' обязательно к заполнению",email:"Необходим формат адреса email"},phone:"Поле 'Телефон' обязательно к заполнению",message:{required:"Поле 'Сообщение' обязательно к заполнению",minlength:"Введите не менее 4-х символов в поле 'Сообщение'"}}}),$("#phone-form").mask("+7(999) 999-99-99")}));